{"componentChunkName":"component---src-templates-page-js","path":"/es2018-best-practices-1-of-6","webpackCompilationHash":"9e8d5bd09d5590066850","result":{"data":{"markdownRemark":{"frontmatter":{"title":"ES2018 Best Practices (1 of 6)","date":"28 September 2019","path":"/es2018-best-practices-1-of-6","excerpt":"Unlock the power of modern JavaScript.","tags":["es2018 series","javascript","best practices"],"coverImage":{"childImageSharp":{"fluid":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsSAAALEgHS3X78AAABvElEQVQoz5WSa0tbQRCGz++bPXv+hIioSIMVIUJQa+MFa1Bp0Q9RWxSxQltohSpRY9R4AY25eUtrY8FboLY1pS0I9nXmbE9z/FY/DDszu/vsuzNjXeQ1DtYUUouE7QXCTlwhzbbD8X3Mu2NdfXTw/YOD85xGYcMkUwzOLImvkF2qwDM+P/33YS/3D/itoCEmYFF7mtE4ZMXr7wm5BLmrXMolFDbnCPnluxDJZROV2Lo80Lg+cfD6hY2WJoWFNzYiYYX+LoXpUYVQM3FMiA4SAvWElyOEtiDHA4ThCKGxgfguYW9VuT+zvjDwz7nDm8oFbsxqdLYq9LSLEo23EzaePCYEHxLGhwntLYSBbkJvB/EZQm01YewpmT4IUBTenDl4/szGgzpC7JXNB2w0B5Sbq6kiFyoPyv74EGEqysBHhHDIqB7q8wG9+p1w7bZiGsUtzfK5juumnuk4x0mN0q7G9rzGBTcvEzc1XpkhvJuUJlYmw5IOC7TM0N+fHfz45OBn0Vj5yMGvY+PLo+LLKmdLeTMV+RVyR87ruqvQg349NB33mz/n971xO8vyHCcr4+Yq/B/zQH7fD5Y53mfwLf3PNR6s4Xt6AAAAAElFTkSuQmCC","aspectRatio":2,"src":"/static/273a050ebd35d4adda849f6ee53d0657/af144/es2018.png","srcSet":"/static/273a050ebd35d4adda849f6ee53d0657/7c0ed/es2018.png 200w,\n/static/273a050ebd35d4adda849f6ee53d0657/647de/es2018.png 400w,\n/static/273a050ebd35d4adda849f6ee53d0657/af144/es2018.png 800w,\n/static/273a050ebd35d4adda849f6ee53d0657/ba299/es2018.png 1200w","sizes":"(max-width: 800px) 100vw, 800px"}}}},"id":"e9d8544b-5bd5-53f4-9181-066a19ca6af1","html":"<center style=\"margin-bottom: 70px;\">\nCredit: <a href=\"https://css-tricks.com/wp-content/uploads/2018/12/es2018.png\">css-tricks.com</a>\n</center>\n<p><em>This <a href=\"/tag/es2018-series/\">series of articles</a> will introduce you to ES2018 powerful features as well as how and why we should use them instead of the traditional JavaScript.</em></p>\n<h2>What is ES2018?</h2>\n<blockquote>\n<p><em>ECMAScript (ES) is a scripting-language specification standardized by Ecma International in ECMA-262 and ISO/IEC 16262. It was created to standardize JavaScript, so as to foster multiple independent implementations.</em> - <a href=\"https://en.wikipedia.org/wiki/ECMAScript\">Wikipedia</a></p>\n</blockquote>\n<p>In another word, ECMAScript is a standard that all implementations of JavaScript must satisfy. ES2018 is the version of that standard that was finalized in June 2018. ES2018 with features such as arrow function, spread operator, async/await, etc. is a much needed improvement to the traditionally confusing JavaScript.</p>\n<h2>const</h2>\n<p><code class=\"language-text\">const</code> is the keyword to declare <strong>local</strong> constant variables i.e. <span class=\"underline\">a variable that cannot refer to a new memory address after declared</span>.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> constantString <span class=\"token operator\">=</span> <span class=\"token string\">\"This string cannot be modified.\"</span><span class=\"token punctuation\">;</span>\nconstantString <span class=\"token operator\">=</span> <span class=\"token string\">\"Assigning new string to constant variable causes TypeError\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// Uncaught TypeError: Assignment to constant variable.</span>\n\n<span class=\"token keyword\">const</span> httpRequest <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  protocol<span class=\"token punctuation\">:</span> <span class=\"token string\">'https'</span><span class=\"token punctuation\">,</span>\n  url<span class=\"token punctuation\">:</span> <span class=\"token string\">'example.com'</span><span class=\"token punctuation\">,</span>\n  method<span class=\"token punctuation\">:</span> <span class=\"token string\">'post'</span><span class=\"token punctuation\">,</span>\n  data<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n    username<span class=\"token punctuation\">:</span> <span class=\"token string\">'admin'</span><span class=\"token punctuation\">,</span>\n   password<span class=\"token punctuation\">:</span> <span class=\"token string\">'12345678'</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// Object is a mutable data structure.</span>\n<span class=\"token comment\">// Here, \"httpRequest\" is still refering to the same object</span>\n<span class=\"token comment\">// even though its content is modified.</span>\nhttpRequest<span class=\"token punctuation\">.</span>url <span class=\"token operator\">=</span> <span class=\"token string\">'google.com'</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// valid</span>\n\n<span class=\"token comment\">// Array is a mutable data structure.</span>\n<span class=\"token comment\">// Here, \"fruits\" is still refering to the same array</span>\n<span class=\"token comment\">// even though its content is modified.</span>\n<span class=\"token keyword\">const</span> fruits <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'banana'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'orange'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'apple'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\nfruits<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span><span class=\"token string\">'peach'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// valid</span></code></pre></div>\n<h2>let</h2>\n<p><code class=\"language-text\">let</code> is the keyword to declare <strong>local</strong> variables.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">let</span> modifiableString <span class=\"token operator\">=</span> <span class=\"token string\">'will change later'</span><span class=\"token punctuation\">;</span>\nmodifiableString <span class=\"token operator\">=</span> <span class=\"token string\">'changing without errors'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">double</span> <span class=\"token operator\">=</span> <span class=\"token parameter\">num</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span>num <span class=\"token operator\">*</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">let</span> list <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4</span><span class=\"token punctuation\">,</span> <span class=\"token number\">5</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n\nlist <span class=\"token operator\">=</span> list<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span>double<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// valid even though Array.map returns new array.</span></code></pre></div>\n<h2>Code Predictability</h2>\n<p>Code predictability refers to <strong>the ability to predict the outcome of a piece of code while reading it</strong>. The old way of declaring variables with <code class=\"language-text\">var</code> causes confusion and reduces code predictability by applying 2 things:</p>\n<ul>\n<li>Hoisting</li>\n<li>Function Scope</li>\n</ul>\n<h3>Hoisting</h3>\n<blockquote>\n<p><em>Hoisting is JavaScript's default behavior of moving declarations to the top.</em></p>\n</blockquote>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// What we write</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>foo<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">var</span> foo <span class=\"token operator\">=</span> <span class=\"token string\">'string'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// What JavaScript sees</span>\n<span class=\"token keyword\">var</span> foo <span class=\"token operator\">=</span> <span class=\"token keyword\">undefined</span><span class=\"token punctuation\">;</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>foo<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nfoo <span class=\"token operator\">=</span> <span class=\"token string\">'string'</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>When encountering variable <code class=\"language-text\">foo</code> in the above example, we expect an error because <code class=\"language-text\">foo</code> does not exist in our environment. Yet, JavaScript implicitly moves the declaration to the top of the scope. The code executes normally and <code class=\"language-text\">foo</code> is assigned a value that is not explicitly stated in the code. <strong>Hoisting prevents us from predict the exact output of our code.</strong></p>\n<p>Variables are not hoisted when declared with <code class=\"language-text\">const</code> and <code class=\"language-text\">let</code>. Trying to use a variable before it is declared will throw <code class=\"language-text\">ReferenceError</code>. Therefore, code predictability is maintained.</p>\n<h3>Block Scope vs Function Scope</h3>\n<p>One important distinction between <code class=\"language-text\">const</code> &#x26; <code class=\"language-text\">let</code> and <code class=\"language-text\">var</code> is that <code class=\"language-text\">const</code> &#x26; <code class=\"language-text\">let</code>-declared variables are scoped by blocks while the ones declared with <code class=\"language-text\">var</code> are scoped by functions.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> nums <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4</span><span class=\"token punctuation\">,</span> <span class=\"token number\">5</span><span class=\"token punctuation\">,</span> <span class=\"token number\">6</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> oddNums <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">var</span> num <span class=\"token keyword\">of</span> nums<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>num <span class=\"token operator\">%</span> <span class=\"token number\">2</span> <span class=\"token operator\">===</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    oddNums<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span>num<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>num<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 6</span>\n<span class=\"token comment\">// oddNums = [1, 3, 5]</span></code></pre></div>\n<p>In this example, <code class=\"language-text\">num</code> can be accessed outside of the block scope created by <code class=\"language-text\">for...of</code>. This is because we declare <code class=\"language-text\">var num</code>. The variable <code class=\"language-text\">num</code> is attached to the closest function-scoped environment or global in this case.</p>\n<p>If we were to declare <code class=\"language-text\">let num</code>, <code class=\"language-text\">num</code> is attached to the block scope created by the foor loop. Therefore, it cannot be accessed outside of the for loop. This \"block scope\" feature has 2 benefits:</p>\n<ul>\n<li>\n<p><strong>Modularization</strong></p>\n<p>Variables are declared and destroyed on the same location. Not only this makes the data flow easier to follow but also avoids name collision and over-population of the global scope.</p>\n</li>\n<li>\n<p><strong>Name Reusability</strong></p>\n<p>We can reuse the same variable name for different block scopes without side effects.</p>\n</li>\n</ul>\n<h2>Conclusion</h2>\n<p>Using <code class=\"language-text\">const</code> and <code class=\"language-text\">let</code> should be the only way to declare variables if your interpreter understands ES2018. Personally, I have not written any line with <code class=\"language-text\">var</code> for a while and I do not intend to. Stick to the best practice to utilize the benefits of block scope and avoid unpredictability in your code.</p>","excerpt":"This series of articles will introduce you to ES2018 powerful features as well as how and why we should use them instead of the traditionalâ€¦","timeToRead":3,"fileAbsolutePath":"/Users/quangta93/Development/quangta93.github.io/src/posts/es2018-best-practices-1-of-6.md"}},"pageContext":{"isCreatedByStatefulCreatePages":false,"type":"posts","next":{"frontmatter":{"path":"/interview-mindset","title":"Changing your mindset to pass technical interviews","tags":["interview","tips","mindset","citadel securities"]},"fileAbsolutePath":"/Users/quangta93/Development/quangta93.github.io/src/posts/interview-mindset.md"},"previous":null}}}